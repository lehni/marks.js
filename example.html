<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Example</title>
<script type="text/javascript" src="tags.js"></script>
<script type="text/javascript">

// Register encoders
tags.encode({
    js: function(str) {
        return str ? (str = JSON.stringify(str)).substring(1, str.length - 1) : str;
    }
})

// Register custom tags
tags.register({
    bold: function(content) {
        return '<b>' + content + '</b>';
    },

    italic: function(content) {
        return '<i>' + content + '</i>';
    },

    image: {
        attributes: 'url width height border=false',
        render: function(content, options, encoder, before, after) {
            return 'image with attributes: '
                    + JSON.stringify(this.attributes);
        }
    }
});

var root = tags.parse('<image url="image.png" 100 200 /><bold>Hello \"world\"</bold>');
console.log(root.render({ encoding: 'js' }));
</script>
</head>
<body>
</body>